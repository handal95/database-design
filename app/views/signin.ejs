<!DOCTYPE html>
<html lang="en">
<%- include('_component/head.ejs', {titleName: '로그인'})%>
<body>
    <!--메인 화면-->
    <%- include('_component/goto_main.ejs')%>
    <h1>로그인 페이지</h1>
    
    <table>
        <tbody>
            <tr>
                <td>ID</td>
                <td><input type="id" name="signin_id" id="input_id"></td>
            </tr>
            <tr>
                <td>비밀번호</td>
                <td><input type="password" name="signin_pw" id="input_pw"></td>
            </tr>
        </tbody>
    </table>

<!--회원/비회원 로그인 병렬 표기-->

    <button id="btn_signin">로그인</button>
    <a href="/signup">회원가입</a>
    
    <script>
        const btn_signin = findId('btn_signin');
        const input_id = findId('input_id');
        const input_pw = findId('input_pw');

        btn_signin.addEventListener('click', function(){
            const data = {
                id: input_id.value,
                pw: input_pw.value,
            };
            requestPostAPI('/signin', data)
            .then(function (response) {
                if (response.data.result)
                {
                    alert('로그인 성공');
                    window.location.href = '/';
                }
                else
                {
                    alert('로그인 실패');
                }
            });
        });
    </script>
</body>
</html>
